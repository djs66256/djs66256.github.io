---
title: 通行密钥的新功能
date: 2025-06-10 15:53:48
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- tvos
- visionos
- 隐私与安全
---
了解 ios、ipados、macos 和 visionos 26 在通行密钥方面的增强功能。我们将探索的重要更新包括：简化注册流程的全新账户创建 api、确保通行密钥保持最新的措施、通过自动通行密钥升级和通行密钥管理端点驱动通行密钥升级的新方式，以及通行密钥的安全导入/导出。了解这些改进如何提升用户体验和安全性，以及如何在 app 中实施这些更新以便提供更流畅、更安全的身份验证体验。为了充分从这个讲座中获益，请先观看 wwdc22 讲座“通行密钥简介”。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9996/9996_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/279/)

# iOS 通行密钥全面升级：五大新功能深度解析

## 引言
密码时代正在终结！苹果在 iOS、iPadOS、macOS 和 visionOS 26 中为通行密钥带来五大创新功能，彻底重塑数字身份验证体验。本文将详解这些改变游戏规则的技术革新，从一键注册到安全迁移，带您全面了解如何打造更流畅、更安全的无密码未来。

## 核心功能解析

### 1. 闪电注册：账户创建 API 革新
传统密码注册流程繁琐：
1. 填写邮箱/姓名表单
2. 设置复杂密码（或使用自动强密码）
3. 完成验证步骤

新方案实现质的飞跃：
- 预填可编辑的个人信息
- Face ID 瞬间完成认证
- 全自动通行密钥生成

技术实现关键点：
```swift
let provider = ASAuthorizationAccountCreationProvider()
let request = provider.createPlatformPublicKeyCredentialRegistrationRequest(
    acceptedContactIdentifiers: [.email, .phoneNumber],
    shouldRequestName: true,
    relyingPartyIdentifier: "example.com",
    challenge: try await fetchChallenge(),
    userID: try await fetchUserID()
)
```

### 2. 实时同步：通行密钥更新机制
当用户变更账户信息时，新的 Signal API 确保：
- 邮箱/用户名变更实时同步
- 被撤销的通行密钥立即失效
- 密码应用永远显示准确信息

开发者需实现的三种关键操作：
```swift
// 更新用户名
.reportPublicKeyCredentialUpdate(...)

// 撤销凭证
.reportAllAcceptedPublicKeyCredentials(...)

// 移除密码
.reportUnusedPasswordCredential(...)
```

### 3. 无缝升级：自动通行密钥转换
密码用户升级路径优化：
- 登录后自动创建通行密钥
- 零摩擦用户体验
- 后台静默处理失败情况

核心代码示例：
```swift
let request = provider.createCredentialRegistrationRequest(
    challenge: try await fetchChallenge(),
    name: accountDetails.userName,
    userID: accountDetails.userID,
    requestStyle: .conditional  // 关键参数
)
```

### 4. 可视化管理：通行密钥端点
通过标准化 well-known URL 实现：
- 直接跳转管理页面
- 必须支持未经认证的访问
- JSON 响应格式要求：
  ```json
  {
    "enroll": "https://example.com/add-passkey",
    "manage": "https://example.com/manage-passkeys"
  }
  ```

### 5. 安全迁移：导入导出功能
突破性进步体现在：
- 应用间直接传输
- 强制本地生物认证
- FIDO Alliance 标准化格式
- 彻底避免凭证文件泄露

## 实施路线图
1. 优先采用账户创建 API 优化新用户注册
2. 集成 Signal API 保持凭证信息准确
3. 为密码用户启用自动升级通道
4. 部署 well-known URL 提升管理可见性
5. 教育用户使用安全迁移功能

## 行业数据印证
- 69% 用户已拥有至少一个通行密钥（FIDO Alliance 2025）
- 通行密钥登录成功率高达 97%（TikTok 实测）
- 比传统密码成功率高 4 倍（Google 数据）

## 结语
通行密钥正在重塑数字身份验证的格局。通过实施这五大创新功能，开发者不仅能提供远超密码的安全保障，还能创造令人愉悦的用户体验。现在是时候全面拥抱无密码未来，让每一次登录都变得快速、简单且牢不可破。

## 相关视频
- [利用通行密钥升级和凭证管理器简化登录体验](https://developer.apple.com/videos/play/wwdc2024/10125)
- [通行密钥简介](https://developer.apple.com/videos/play/wwdc2022/10092)

## 文档资源
- [ASCredentialExportManager 文档](https://developer.apple.com/documentation/AuthenticationServices/ASCredentialExportManager)
- [ASCredentialProviderViewController 文档](https://developer.apple.com/documentation/AuthenticationServices/ASCredentialProviderViewController)
- [快速账户创建指南](https://developer.apple.com/documentation/AuthenticationServices/performing-fast-account-creation-with-passkeys)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)