---
title: 使用全新设计系统构建 AppKit App
date: 2025-06-10 15:33:19
categories:
- wwdc2025
tags:
- wwdc2025
- macos
- swiftui-和-ui-框架
---
更新你的 appkit app，以便充分利用全新设计系统。我们将深入探索标签视图、分屏浏览、栏、演示文稿、搜索和控制项等方面的主要变化，并向你展示如何在自定 ui 中使用 liquid glass。为了充分从这个视频中获益，建议你先观看“了解全新设计系统”以获取一般性设计指导。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/10015/10015_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/310/)

# 适配macOS全新设计系统：从玻璃材质到控件升级

## 引言
macOS全新设计系统带来了视觉体系的全面革新，液态玻璃材质和重新设计的控件为Mac应用树立了新标准。本文将深入解析如何将您的AppKit应用升级至这一系统，涵盖工具栏、分屏布局、控件优化等关键变化，以及如何巧妙运用液态玻璃效果提升用户体验。

## 核心设计理念
液态玻璃材质成为新系统的明星元素，其半透明特性能够动态反射和折射光线，赋予界面立体层次感。这种材质被广泛应用于窗口结构组件，如悬浮工具栏和边栏，创建出独具特色的视觉深度。

### 工具栏升级技巧
1. **自动分组逻辑**：AppKit会根据控件类型自动将相关操作分组到同一玻璃面板
2. **外观自适应**：玻璃材质会根据下层内容智能调整浅色/深色主题
3. **突出显示技术**：
   ```swift
   // 使用强调色突出重要操作
   toolbarItem.style = .prominent
   // 自定义着色
   toolbarItem.backgroundTintColor = .systemGreen
   ```

## 窗口结构与布局优化
新系统采用"同心圆嵌套"设计理念，窗口圆角半径与内部元素保持和谐比例关系。关键改进包括：

### 安全区域管理
```swift
// 避免内容与圆角重叠的布局示例
let safeArea = layoutGuide(for: .safeArea(cornerAdaptation: .horizontal))
NSLayoutConstraint.activate([
    safeArea.leadingAnchor.constraint(equalTo: button.leadingAnchor),
    safeArea.trailingAnchor.constraint(greaterThanOrEqualTo: button.trailingAnchor)
])
```

## 控件系统全面升级
macOS Tahoe带来了焕然一新的控件家族：

1. **尺寸阶梯扩展**：新增超大尺寸，用于强调核心操作
2. **形状自适应**：从圆角矩形到胶囊形状的智能转换
3. **突出度控制**：通过tintProminence属性精细调整视觉权重
   ```swift
   // 设置不同突出度级别
   shuffleButton.tintProminence = .secondary
   playButton.keyEquivalent = "\r" // 自动获取主要突出度
   ```

## 液态玻璃材质实践
在自定义UI中应用玻璃效果时，需遵循"顶层悬浮"原则：

```swift
// 创建玻璃效果视图的正确方式
let glassView = NSGlassEffectView()
glassView.contentView = customContentView
glassView.cornerRadius = 10

// 多个玻璃元素的组合技巧
let container = NSGlassEffectContainerView()
container.contentView = stackOfGlassViews
```

## 结语
升级到全新设计系统不仅是视觉焕新，更是提升用户体验的重要机遇。建议从工具栏改造开始，逐步应用无边滚动布局，最后为关键控件添加液态玻璃效果。记住：好的设计应当强化功能，而非分散注意力。

## 相关视频
- [了解液态玻璃](https://developer.apple.com/videos/play/wwdc2025/219)  
- [了解全新设计系统](https://developer.apple.com/videos/play/wwdc2025/356)

## 文档
- [Adopting Liquid Glass](https://developer.apple.com/documentation/TechnologyOverviews/adopting-liquid-glass)  
- [Human Interface Guidelines: Designing for macOS](https://developer.apple.com/design/Human-Interface-Guidelines/designing-for-macos)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)