---
title: 跟着视频学编程：使用 Xcode 探索本地化
date: 2025-06-10 15:40:29
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- tvos
- visionos
- watchos
- 开发者工具
---
探索如何使用 xcode 将你的 app 本地化为其他语言。我们将逐步介绍创建 string catalog、翻译文本以及与外部翻译器交换文件的流程。你将了解为翻译器提供必要语境信息的最佳实践，以及 xcode 如何帮你自动提供这类信息。对于大型项目，我们将还深入探讨使用类型安全的 swift 代码来管理复杂度并简化字符串管理的实用技巧。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9914/9914_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/225/)

# 使用 Xcode 实现应用本地化的完整指南

## 引言
在当今全球化市场中，应用本地化已成为提升用户体验的关键因素。通过 Xcode 强大的本地化工具，开发者可以轻松将应用适配多种语言。本文将带你从零开始学习如何配置本地化支持，管理翻译流程，并应对大型项目的本地化挑战。

## 字符串目录基础

**创建字符串目录**是本地化的第一步：
1. 在 Xcode 中打开你的项目
2. 通过文件菜单添加字符串目录，命名为"Localizable"
3. 将其放入 Resources 组（与资产目录同组）

构建项目后，Xcode 会自动发现并添加可本地化字符串到目录中。

## 代码中的本地化实现

在 Swift 代码中添加本地化字符串的几种方式：

```swift
// SwiftUI 视图中的本地化
Text("精选地标", comment: "特色地标英雄图像中的大标题")
Button("保留") { }

// Foundation 框架中的本地化
String(localized: "新建收藏", comment: "用户创建新收藏的默认名称")
```

处理复数形式时，右键选择"根据复数变化"即可设置不同数量的表述。

## 翻译工作流程

**专业翻译流程**：
1. 通过 Xcode 产品菜单选择"导出本地化"
2. 生成行业标准 XLIFF 文件给翻译服务
3. 翻译完成后通过"导入本地化"功能整合译文
4. 在方案编辑器中切换应用语言测试翻译效果

## 翻译上下文的重要性

为翻译人员提供充分的上下文注释：
- 说明字符串的使用场景（按钮、标签栏等）
- 描述周边界面元素
- 解释占位符内容类型

Xcode 26 新增**自动注释生成功能**：
- 右键菜单选择"生成注释"
- 或在设置中开启自动生成选项

```xml
<!-- XLIFF 文件示例 -->
<trans-unit id="大峡谷" xml:space="preserve">
  <source>大峡谷</source>
  <target state="new">大峡谷</target>
  <note from="auto-generated">地标搜索建议</note>
</trans-unit>
```

## 大型项目管理技巧

随着项目规模扩大，可以采用以下策略：

1. **使用 bundle 参数**指定字符串资源位置：
```swift
#bundle 宏可自动识别当前目标的资源包
```

2. **tableName 参数分组**：
- 将相关字符串分组到不同的字符串目录
- 例如所有"发现"功能字符串放入 Discover.xcstrings

3. **符号引用工作流**：
```swift
Text(.介绍标题)
.navigationSubtitle(.副标题(friendsPosts: 42))
String(localized: .精选收藏)
```

对于现有项目，需开启"Generate String Catalog Symbols"构建设置才能使用符号生成功能。

## 最佳实践建议

1. 从字符串提取开始本地化项目
2. 提供详细注释（手动或自动生成）
3. 随着复杂度增加，考虑使用生成的符号
4. 两种工作流可随时通过"重构>转换为符号"切换

## 总结

Xcode 提供了完整的本地化工具链，从字符串提取到翻译管理，再到复杂项目支持。通过合理使用这些功能，开发者可以高效完成应用本地化工作，为用户提供更好的多语言体验。

## 相关视频
- [探索字符串目录](https://developer.apple.com/videos/play/wwdc2023/10155)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)