---
title: UIKit 的新功能
date: 2025-06-10 21:46:48
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- 隐私与安全
---
借助 uikit 最新推出的多种 api，对你的 app 进行现代化改造，这些更新包括增强的菜单栏支持、自动观察跟踪、全新 ui 更新方法，以及动画效果改进。我们还将介绍如何在 uikitapp 中包含 swiftui 场景，并探讨 sf symbols、hdr 颜色选择器等内容。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9943/9943_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/243/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)

# UIKit 新特性全面解析：现代化升级指南

随着 iOS/iPadOS 26 的发布，UIKit 框架迎来了一系列重大更新，为开发者提供了更强大的工具来构建现代化应用体验。本文将从设计系统、菜单栏支持、架构改进等多个维度，深入解析 UIKit 的最新特性。

## 全新设计系统：Liquid Glass 材质

UIKit 在 iOS/iPadOS 26 中引入了创新的 Liquid Glass 设计系统，其核心是兼具半透明特性和动态效果的材质。这种材质包含镜面高光和折射等光学特性，为系统组件带来了前所未有的视觉表现。

开发者可通过以下新工具实现设计升级：
- **背景延展视图**：让内容显示在玻璃面板下方，保持视觉连贯性
- **自定义组件玻璃材质**：为自制控件添加专业玻璃效果
- **全新滚动边缘效果**：内容滚动时呈现优雅渐变动画，提升工具栏可视性

导航过渡现在支持流畅且可中断的动画，用户无需等待动画完成即可与内容互动，显著提升交互体验。

## 菜单栏系统：iPadOS 的重大升级

iOS/iPadOS 26 将 macOS 的菜单栏体验带到了 iPad 平台。用户只需从屏幕顶部轻扫即可调出完整应用菜单，无需硬件键盘即可访问所有功能。

### 主菜单系统配置 API
新 API 允许开发者深度定制菜单系统：

```swift
var config = UIMainMenuSystem.Configuration()
config.printingPreference = .included
config.inspectorPreference = .removed
config.findingConfiguration.style = .search
```

```swift
UIMainMenuSystem.shared.setBuildConfiguration(config) { builder in
    builder.insertElements([...], afterCommand: #selector(copy(_:)))
    let deleteKeyCommand = UIKeyCommand(...)
    builder.replace(command: #selector(delete(_:)), withElements: [deleteKeyCommand])
}
```

### 动态菜单支持
对于需要动态内容的菜单项（如浏览历史），可使用基于焦点的延迟菜单元素：

```swift
let historyDeferredElement = UIDeferredMenuElement.usingFocus(
    identifier: .browserHistory,
    shouldCacheItems: false
)
```

## 架构改进：Swift Observable 原生支持

iOS 26 将 Swift Observation 整合到 UIKit 核心中，实现了自动依赖追踪。

```swift
@Observable class UnreadMessagesModel {
    var showStatus: Bool
    var statusText: String
}

class MessageListViewController: UIViewController {
    override func viewWillLayoutSubviews() {
        statusLabel.alpha = unreadMessagesModel.showStatus ? 1.0 : 0.0
        statusLabel.text = unreadMessagesModel.statusText // 自动建立依赖关系
    }
}
```

## 全新UI更新流程

UIKit 引入了 updateProperties() 方法，将属性更新与布局更新分离，优化性能。

```swift
override func updateProperties() {
    folderButton.badge = model.badgeCount.map { .count($0) } // 仅更新徽章计数
}
```

新的更新流程顺序为：
1. 更新特征集合
2. 调用 updateProperties()
3. 执行 layoutSubviews()
4. 显示流程
5. 渲染帧

## HDR 色彩与 SF Symbols 7

iOS 26 扩展了 HDR 支持到色彩领域：

```swift
let hdrRed = UIColor(red: 1.0, green: 0.0, blue: 0.0, alpha: 1.0, linearExposure: 2.5)
```

SF Symbols 7 新增了多种绘制效果和动画功能：

```swift
var configuration = UIButton.Configuration.plain()
configuration.symbolContentTransition = UISymbolContentTransition(.replace)
```

## 迁移指南

建议开发者：
1. 使用 iOS 26 SDK 重新编译应用
2. 评估应用在新设计系统中的表现
3. 采用 UISplitViewController 等标准容器
4. 使用新菜单 API
5. 采用 updateProperties 和观察追踪
6. 迁移到场景化生命周期

通过这些改进，开发者可以为用户打造更强大、愉悦的应用体验。建议参考相关视频和文档获取更详细的技术指导。

## 相关视频

[了解全新设计系统](https://developer.apple.com/videos/play/wwdc2025/356)  
[使用全新设计系统构建 UIKit App](https://developer.apple.com/videos/play/wwdc2025/284)  
[提升 iPad App 设计](https://developer.apple.com/videos/play/wwdc2025/208)  
[让你的 UIKit App 更加灵活](https://developer.apple.com/videos/play/wwdc2025/282)  
[SF Symbols 7 的新功能](https://developer.apple.com/videos/play/wwdc2025/337)  
[利用 HDR 为 App 打造动态图像体验](https://developer.apple.com/videos/play/wwdc2024/10177)  
[在 App 中为符号添加动画效果](https://developer.apple.com/videos/play/wwdc2023/10258)  
[在你的 App 中支持 HDR 图像](https://developer.apple.com/videos/play/wwdc2023/10181)  
[使您的 iPad App 更上一层楼](https://developer.apple.com/videos/play/wwdc2021/10057)

## 文档

[人机界面指南](https://developer.apple.com/design/human-interface-guidelines)  
[UIKit 更新](https://developer.apple.com/documentation/Updates/UIKit)
