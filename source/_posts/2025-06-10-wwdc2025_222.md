---
title: 提升 App 的多语言体验
date: 2025-06-10 21:46:47
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- tvos
- visionos
- watchos
- swiftui-和-ui-框架
---
为使用多种语言的用户打造顺畅体验。了解语言发现功能如何以用户偏好的语言优化你的 app。探索为从右至左显示的语言提供支持的最新进展，包括用来在双向文本中选择多个范围的自然选择。我们还将介绍在你的 app 中支持多语言场景的最佳实践。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9915/9915_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/222/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)

# iOS 26中的多语言体验全面升级

苹果在WWDC上展示了iOS 26中一系列针对多语言体验的重要改进，这些新功能将帮助开发者构建更具包容性和全球化的应用。

## 语言发现与个性化体验

iOS 26引入了革命性的语言发现功能，能够自动识别用户的多语言使用习惯。系统通过设备端智能分析用户在不同场景下的语言使用情况，如消息、音乐和新闻浏览等。开发者现在可以通过`Locale.preferredLocales`API获取包含丰富信息的Locale对象数组，取代原有的`Locale.preferredLanguages`字符串数组。

```swift
let preferredLocales = Locale.preferredLocales
let preferredLanguages = Locale.preferredLanguages
```

新API提供了更全面的语言和地区信息，包括数字系统、本地化名称等，使开发者能够更精确地匹配用户偏好。苹果已在翻译应用、日历和Apple Music等场景中应用了这一技术，显著提升了多语言用户的体验。

## 备选日历支持扩展

iOS 26新增了11种备选日历选项，包括古吉拉特语、马拉地语和韩语等。这些新日历在所有苹果平台上可用，开发者可以通过Foundation框架中的`Calendar.Identifier`访问。这一扩展为不同文化背景的用户提供了更符合其传统的日期显示方式。

## 双向文本的重大革新

iOS 26对双向文本处理进行了重大改进，其中最引人注目的是"自然选择"功能。新系统解决了在混合LTR(左至右)和RTL(右至左)文本中选择时的显示问题。开发者现在需要使用`selectedRanges`属性取代原有的`selectedRange`，以准确反映用户在双向文本中的多段选择。

```swift
let ranges = textView.selectedRanges.reversed()
for range in ranges {
    textView.textStorage.deleteCharacters(in: range)
}
```

UITextViewDelegate协议也相应更新，新增了支持范围数组的方法。值得注意的是，要充分利用这些新功能，开发者必须使用TextKit2作为文本引擎。苹果还优化了书写方向的动态确定机制，使文本流向能够根据内容自动调整。

## 键盘与输入体验优化

iOS 26为多语言用户提供了多项键盘改进：
- 新增Arabizi音译键盘，支持拉丁字母输入阿拉伯语
- 为印地语键盘加入双语建议功能
- 推出阿拉伯语-英语双语多文字键盘
- 为泰语用户新增24键布局键盘

这些改进显著提升了多语言用户的输入体验，特别是经常需要在不同语言间切换的用户。

## 开发建议与最佳实践

苹果建议开发者：
1. 及时迁移到`Locale.preferredLocales`API
2. 在文本处理中使用TextKit2而非TextKit1
3. 适配新的`selectedRanges`和代理方法
4. 利用新的备选日历选项
5. 遵循苹果的人机界面指南中的RTL规范

这些改进共同构成了iOS 26强大的多语言支持体系，帮助开发者构建真正全球化的应用，为不同语言和文化背景的用户提供更自然、更贴心的体验。

## 相关视频

[跟着视频学编程：使用 SwiftUI 和 AttributedString 精心打造富文本体验](https://developer.apple.com/videos/play/wwdc2025/280)
[构建支持多语言的 App](https://developer.apple.com/videos/play/wwdc2024/10185)
[向左语言](https://developer.apple.com/videos/play/wwdc2022/10107)

## 文档

[Human Interface Guidelines: Right to left](https://developer.apple.com/design/human-interface-guidelines/right-to-left)
