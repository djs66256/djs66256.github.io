---
title: Apple Pay 的新功能
date: 2025-06-10 15:25:56
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- tvos
- visionos
- watchos
- app-服务
---
探索 apple pay 中的最新改进和新 api。你将探索 apple pay ecommerce 体验有哪些优化 (例如新增的动态支付按钮)，并了解如何充分利用增强后的预授权付款支持。我们将介绍“钱包”中的订单跟踪将迎来哪些全新功能，并了解一些有助于让订单呈现精美外观的建议。
我们还将深入了解 financekit 的新背景交付 api，这些 api 让财务管理 app 即使在非活跃状态下也能获取最新数据。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9873/9873_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/201/)

# Apple Pay 新功能全面解析：从支付体验到财务管理

## 引言
Apple Pay 近期迎来多项重要更新，涵盖支付流程优化、订单追踪增强和财务管理革新三大领域。这些改进不仅提升了用户体验，也为开发者提供了更多创新可能。本文将深入解析这些新功能的技术实现和最佳实践。

## 增强支付体验

### 动态Apple Pay按钮
今年Apple Pay推出了全新设计的动态支付按钮，能够自动显示用户的默认支付方式及卡片图案。这一功能通过以下方式实现：
- 在支付请求中添加商户类别码（MCC）属性
- 声明支持的所有支付网络
- 使用`merchantCategoryCode`属性设置商业类型代码

如需保留传统按钮样式，可以使用`payWithApplePayButtonDisableCardArt`视图修饰符。

### 预授权付款优化
预授权付款功能现在提供统一的管理界面和增强的品牌展示能力：
- 商户可通过Apple Business Connect配置品牌图标、名称和描述图片
- 在服务器端建立包含加密元数据的接口
- 返回包含企业标识和交易记录的压缩包（最大5MB）
- 所有数据传输采用端到端加密

技术实现基于iOS 16的商户令牌（Merchant Token）功能。

## 订单追踪优化

### 智能邮件识别
钱包应用现在能够自动检测邮件中的订单信息并转换为钱包订单。关键实现要素包括：
- 订单邮件须包含商户名称、订单编号和物流单号
- 支持通过Apple Business Connect进行品牌统一配置
- 仍可通过订单文件附件或`webServiceURL`提供完整功能

### 订单展示功能
钱包中的订单展示支持：
- 自动通知和实时更新
- 无邮件更新功能
- 集成收据与退换货服务

## FinanceKit革新

### 后台交付扩展
FinanceKit API新增的后台交付功能允许应用在非活跃状态下获取财务数据：
- 创建后台交付扩展目标
- 处理`didReceiveData`回调（包含账户、余额、交易等数据）
- 可设置小时、天、周等不同更新频率
- 长时间任务需在`willTerminate`回调中保存进度

注意扩展与主应用需共享相同的财务数据权限。

## 结语
Apple Pay的最新改进从支付按钮到财务管理形成了完整的生态闭环。开发者可以通过Apple Business Connect统一品牌形象，查阅商户令牌实现细节，或探索FinanceKit后台交付的强大功能。这些创新将帮助您打造更安全、便捷和个性化的支付体验。

## 相关视频
- ["钱包"的新功能](https://developer.apple.com/videos/play/wwdc2025/202)
- [了解FinanceKit](https://developer.apple.com/videos/play/wwdc2024/2023)
- ["钱包"和Apple Pay的新功能](https://developer.apple.com/videos/play/wwdc2023/10114)
- [钱包与Apple Pay的新功能](https://developer.apple.com/videos/play/wwdc2022/10041)

## 文档资源
- [Apple Pay开发文档](https://developer.apple.com/apple-pay/)
- [人机交互指南：Apple Pay](https://developer.apple.com/design/human-interface-guidelines/apple-pay/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)