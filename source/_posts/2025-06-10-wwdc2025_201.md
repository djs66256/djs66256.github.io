---
title: Apple Pay 的新功能
date: 2025-06-10 21:46:47
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- tvos
- visionos
- watchos
- app-服务
---
探索 apple pay 中的最新改进和新 api。你将探索 apple pay ecommerce 体验有哪些优化 (例如新增的动态支付按钮)，并了解如何充分利用增强后的预授权付款支持。我们将介绍“钱包”中的订单跟踪将迎来哪些全新功能，并了解一些有助于让订单呈现精美外观的建议。
我们还将深入了解 financekit 的新背景交付 api，这些 api 让财务管理 app 即使在非活跃状态下也能获取最新数据。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9873/9873_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/201/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)

# Apple Pay 新功能：电子商务体验与FinanceKit深度解析

Apple Pay作为苹果生态系统的核心支付解决方案，在WWDC上公布了多项重要更新。这些改进覆盖了支付全流程体验、订单管理以及FinanceKit API的扩展功能，为开发者和商户提供了更强大的工具来优化用户交互与后台数据处理。

## 支付体验全面升级

今年Apple Pay的改进首先体现在支付按钮的动态显示功能上。该系统会根据用户默认支付方式自动调整按钮显示内容，展示卡片图像和相关信息。为实现这一功能，开发者需要在支付请求中提供商户类别代码(Merchant Category Code)和支持的支付网络信息。

```swift
// 设置商户类别代码示例
paymentRequest.merchantCategoryCode = .retail
```

值得注意的是，苹果仍严格保护用户隐私，应用无法直接访问卡片详细信息。SwiftUI和UIKit应用将自动获得新按钮支持，同时开发者也可选择继续使用传统样式。

预授权支付功能获得了显著增强，新增的统一视图让用户可以集中管理所有预授权交易。商户现在可以通过提供丰富的品牌信息来定制界面体验，这需要从bundle分发端点提供包含特定信息的bundle：

```swift
// 商户令牌信息架构示例
{
  "merchantTokenIdentifier": "com.example.merchant",
  "merchantName": "Example Store",
  "merchantLogoName": "logo.png"
}
```

## 智能订单跟踪系统

自iOS 16引入订单跟踪功能以来，今年苹果进一步整合了智能技术实现自动订单检测。钱包应用现在能够安全地扫描邮件中的订单信息，自动创建跟踪条目。

为确保最佳自动跟踪效果，商户邮件需要包含三个关键要素：
- 邮件正文中的商户名称
- 每封邮件独有的订单编号
- 用于关联承运商信息的跟踪编号

商户还可以通过Apple Business Connect设置品牌logo和其他详细信息，这些内容将应用于所有相关邮件订单。

## FinanceKit API的重大扩展

FinanceKit API自iOS 17.4发布以来首次迎来重大更新。最引人注目的是新增的后台交付功能，它允许金融类应用在非活跃状态下仍能获取最新数据。

后台交付扩展需要实现两个核心端点：

```swift
// 后台交付扩展实现示例
func didReceiveData(_ data: [BackgroundDataType]) {
    // 处理数据变更
}

func willTerminate() {
    // 清理资源
}
```

开发者可以配置三种数据更新频率（每小时、每日、每周），系统会根据实际数据变化情况智能触发扩展。同时，FinanceKit API现已扩展至英国市场，支持Connected Cards功能。

## 开发者资源与后续步骤

苹果为开发者提供了全面的资源支持：
- 商户品牌展示：通过Apple Business Connect统一管理
- 订单体验优化：注册订单确认邮件地址或集成订单跟踪bundle
- FinanceKit集成：Xcode直接支持后台交付功能开发

相关技术文档和WWDC视频资源已全面更新，帮助开发者快速掌握这些新功能。

**相关视频**
["钱包"的新功能](https://developer.apple.com/videos/play/wwdc2025/202)
[了解FinanceKit](https://developer.apple.com/videos/play/wwdc2024/2023)
["钱包"和Apple Pay的新功能](https://developer.apple.com/videos/play/wwdc2023/10114)
[钱包与Apple Pay的新功能](https://developer.apple.com/videos/play/wwdc2022/10041)

**文档**
[Apple Pay](https://developer.apple.com/apple-pay/)
[Human Interface Guidelines: Apple Pay](https://developer.apple.com/design/human-interface-guidelines/apple-pay/)
