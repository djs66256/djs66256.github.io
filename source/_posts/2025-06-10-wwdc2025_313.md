---
title: 将 Swift Charts 扩展成三维图表
date: 2025-06-10 15:34:18
categories:
- wwdc2025
tags:
- wwdc2025
- visionos
- swiftui-和-ui-框架
---
了解如何使用 chart3d 将你的 2d swift charts 转换为三维图表，从全新角度直观呈现你的数据集。绘制 3d 数据图表，以可视化方式显示数学表面，并对摄像头、材质等各种因素进行自定，让你的 3d 图表更加清晰直观、赏心悦目。

为了充分从这个讲座中获益，我们建议你先熟悉一下如何创建 2d swift charts。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9954/9954_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/313/)

# 探索 Swift Charts 的三维可视化能力

## 引言
Swift Charts 是 Apple 提供的一个强大框架，用于创建直观精美的图表。在 iOS、macOS 和 visionOS 26 中，Swift Charts 迎来了令人振奋的新功能 - 三维图表支持。本文将带您了解如何将二维图表升级为三维，绘制三维数学曲面，以及如何定制三维图表的外观和行为。

## 从二维到三维的转变
Swift Charts 的二维图表已经广泛应用于天气应用、系统设置等多个场景。现在，通过 Chart3D 视图，我们可以轻松地将二维图表升级为三维：

```swift
// 二维图表
Chart {
    PointMark(
        x: .value("Flipper Length", penguin.flipperLength),
        y: .value("Body Mass", penguin.bodyMass)
    )
}

// 三维图表
Chart3D {
    PointMark(
        x: .value("Flipper Length", penguin.flipperLength),
        y: .value("Body Mass", penguin.bodyMass),
        z: .value("Beak Length", penguin.beakLength)
    )
}
```

这种转变让用户可以从全新的视角探索和理解数据，特别是对于本身就具有三维特征的数据集。

## 曲面图(SurfacePlot)的应用
SurfacePlot 是 Chart3D 的独家功能，它是 LinePlot 的三维扩展，非常适合绘制包含两个变量的数学曲面：

```swift
Chart3D {
    SurfacePlot { x, z in
        x * z
    }
}
```

您可以在 SurfacePlot 中实现任意复杂的数学表达式：
```swift
SurfacePlot { x, z in
    sin(x * .pi) * cos(z * .pi)
}
```

SurfacePlot 也适用于数据可视化，比如展示企鹅体征数据的线性回归关系：
```swift
SurfacePlot { flipperLength, beakLength in
    LinearRegression.predictBodyMass(flipperLength: flipperLength, beakLength: beakLength)
}
```

## 三维图表定制技巧
Chart3D 提供了丰富的定制选项：

1. **调整初始姿态**：
```swift
.chart3DPose(.front)  // 预设视角
// 或自定义视角
.chart3DPose(Pose3D(azimuth: .degrees(45), elevation: .degrees(30)))
```

2. **投影方式选择**：
```swift
.chart3DProjection(.orthographic)  // 正交投影(默认)
.chart3DProjection(.perspective)   // 透视投影
```

3. **曲面样式定制**：
```swift
// 渐变着色
.foregroundStyle(.ellipticalGradient(colors: [.red, .green, .blue]))
// 基于高度着色
.foregroundStyle(heightBased: [.red, .green, .blue])
// 基于法线角度着色
.foregroundStyle(normalBased: [.red, .green, .blue])
```

## 三维图表的应用建议
虽然三维图表提供了新的数据视角，但需要注意：
- 三维图表的可读性高度依赖交互操作
- 评估交互体验是否对您的应用场景必不可少
- 二维与三维图表可以互补使用

特别是在 Vision Pro 上，三维图表能够提供惊艳的视觉效果和交互体验。

## 结论
Swift Charts 的三维功能为数据可视化开辟了新的可能性。通过 PointMark、RuleMark、RectangleMark 和 SurfacePlot 的组合使用，结合丰富的定制选项，开发者可以创建出独具特色的三维可视化方案。

## 相关视频
- [Swift Charts：矢量图与函数图](https://developer.apple.com/videos/play/wwdc2024/10155)
- [利用图表设计 App 体验](https://developer.apple.com/videos/play/wwdc2022/110342)
- [设计实用高效的图表](https://developer.apple.com/videos/play/wwdc2022/110340)

## 文档
- [Swift Charts 官方文档](https://developer.apple.com/documentation/Charts)
- [Swift Charts 更新日志](https://developer.apple.com/documentation/Updates/SwiftCharts)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)