---
title: 在你的 App 中提供适龄体验
date: 2025-06-10 15:47:41
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- 系统服务
---
了解如何使用全新的 declared age range api 在你的 app 中提供适龄体验。我们将介绍家长如何允许孩子与 app 共享年龄范围，以确保在保护隐私的情况下提供安全体验。我们还将探索此框架如何帮助你根据用户的年龄来定制你的 app 内容和功能，并展示如何实施年龄限制、理解缓存机制并尊重用户隐私，同时营造更安全、更有趣的体验。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/10025/10025_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/299/)

# 如何在应用中为不同年龄用户提供个性化体验  

## 引言  
随着数字产品使用越来越低龄化，如何为不同年龄段的用户提供安全且合适的应用体验变得尤为重要。苹果最新推出的「声明年龄范围API」为开发者提供了一套完整的解决方案，既能保护儿童隐私，又能实现精准的适龄内容展示。本文将详细介绍这一框架的工作原理和实现方法。  

## 为什么需要适龄体验  

### 儿童上网安全的重要性  
苹果始终将用户隐私和安全放在首位，特别是对儿童用户的保护。2025年发布的《保护儿童上网安全》白皮书强调了数字环境中保护儿童的必要性。不同年龄段的孩子面临不同的网络风险，需要针对性的保护措施。  

### 苹果的改进措施  
- 简化的儿童账户设置流程  
- 家长可随时修正孩子账户的年龄信息  
- App Store采用更细化的全球年龄评级体系（4+、9+、13+、16+、18+）  
- 推出全新的「声明年龄范围API」  

## 声明年龄范围框架详解  

### 工作原理  
该框架让应用可以请求用户的年龄范围，而不是具体生日。系统会根据用户年龄返回一个年龄区间（如13-15岁），应用据此调整内容和功能。  

### 主要特点  
1. **隐私保护**：只提供必要的年龄区间信息  
2. **灵活设置**：家长有三种管理选项：  
   - 始终共享  
   - 每次询问  
   - 永不共享  
3. **智能缓存**：系统会缓存年龄信息，每年用户生日时自动更新  

### 年龄区间设置  
开发者最多可以设置3个年龄阈值，系统会自动生成4个区间：  
- 12岁及以下  
- 13-15岁  
- 16-17岁  
- 18岁及以上  

每个区间跨度至少两年，确保隐私保护。  

## 实现步骤  

### 1. 添加框架能力  
在Xcode项目的「Signing and Capabilities」选项卡中添加Declared Age Range能力。  

### 2. 代码实现  

```swift
import SwiftUI
import DeclaredAgeRange

struct ContentView: View {
    @State var featureEnabled = false
    @Environment(\.requestAgeRange) var requestAgeRange
    
    func checkAge() async {
        do {
            let response = try await requestAgeRange(ageGates: 16)
            switch response {
            case let .sharing(range):
                if let lowerBound = range.lowerBound, lowerBound >= 16 {
                    featureEnabled = true
                }
            case .declinedSharing:
                print("用户拒绝共享年龄信息")
            }
        } catch {
            print("请求出错：", error)
        }
    }
}
```  

### 3. 检查家长控制  
还可以检查家长是否启用了通信限制：  

```swift
if range.activeParentalControls.contains(.communicationLimits) {
    // 处理通信受限的情况
}
```  

## 其他儿童安全功能  

- **敏感内容分析API**：自动检测不适当内容  
- **屏幕时间框架**：帮助家长管理使用时间  
- **家庭控制**：全面的家长控制工具  

## 结论  

通过「声明年龄范围API」，开发者可以轻松构建尊重隐私的适龄体验。建议所有面向儿童或青少年的应用都应考虑集成这一功能。  

## 相关视频  
- [使用 PermissionKit 增强儿童安全保护](https://developer.apple.com/videos/play/wwdc2025/293)  

## 文档  
- [DeclaredAgeRange官方文档](https://developer.apple.com/documentation/DeclaredAgeRange)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)