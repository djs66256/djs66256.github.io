---
title: 了解 SwiftUI 空间布局
date: 2025-06-10 15:50:53
categories:
- wwdc2025
tags:
- wwdc2025
- visionos
- 设计
---
探索使用 swiftui 开发空间体验的新工具。了解 visionos 上 3d swiftui 视图的基本知识，借助深度对齐功能来自定现有布局，并使用修饰符在空间中旋转和放置视图。探索如何使用空间容器在同一 3d 空间中对齐视图，打造更沉浸、更引人入胜的 app。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9989/9989_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/273/)

# 探索 SwiftUI 空间布局：打造沉浸式 3D 应用体验

## 引言
随着 visionOS 的推出，SwiftUI 迎来了全新的空间布局功能，让开发者能够轻松构建沉浸式的 3D 应用体验。本文将带你深入探索这些创新工具，从基础概念到高级应用，帮助你掌握 SwiftUI 在三维空间中的布局能力。

## 3D 视图基础

在 visionOS 中，SwiftUI 视图从二维扩展到了三维空间。布局系统现在不仅计算宽度、高度和 X/Y 位置，还增加了深度维度：

```swift
// 可视化 3D 框架的调试工具
Model3D(named: "Robot").debugBorder3D(.red)
```

值得注意的是：
- 像 `Model3D` 这样的视图具有固定的三维尺寸
- 传统 2D 视图（如 `Image` 和 `Text`）深度为零
- `RealityView` 和可调整大小的 `Model3D` 会占据所有可用深度空间

## 深度对齐：定制 3D 布局

深度对齐是 SwiftUI 为 3D 视图提供的新布局工具，类似于传统的垂直或水平对齐：

```swift
// 设置前对齐的 VStack
VStackLayout().depthAlignment(.front) {
  ResizableRobotView(asset: robot.model3DAsset)
  RobotNameCard(robot: robot)
}.frame(width: 300)
```

你还可以创建自定义深度对齐指南，实现更复杂的布局效果：

```swift
// 自定义深度对齐
struct DepthPodiumAlignment: DepthAlignmentID {
  static func defaultValue(in context: ViewDimensions3D) -> CGFloat {
    context[.front]
  }
}
```

## 旋转布局：改变视图框架

新的 `rotation3DLayout` 修饰符不同于视觉效果的旋转，它实际上会改变视图在布局系统中的框架：

```swift
// 绕 Z 轴旋转 45 度
Model3D(named: "ToyRocket")
  .rotation3DLayout(.degrees(isRotated ? 45 : 0), axis: .z)
```

这个功能特别适合创建轮播视图等复杂的 3D 布局。

## 空间容器：精确对齐

对于需要精确对齐的场景，SwiftUI 提供了两个强大工具：

```swift
// 使用 spatialOverlay 添加选中状态高亮环
ResizableRobotView(asset: robot.model3DAsset)
  .spatialOverlay(alignment: .bottom) {
    if isSelected { ResizableSelectionRingModel() }
  }
```

`SpatialContainer` 则允许将多个视图对齐到同一 3D 空间，就像俄罗斯套娃一样精确嵌套。

## 结语

SwiftUI 的空间布局功能为 visionOS 应用开发带来了全新可能性。从基本的 3D 视图到复杂的深度对齐和旋转布局，这些工具让开发者能够轻松创建沉浸式体验。虽然某些高级场景仍需结合 RealityKit，但 SwiftUI 已经为大多数 3D 应用需求提供了完整的解决方案。

## 相关视频

[搭配使用更出色：SwiftUI 和 RealityKit](https://developer.apple.com/videos/play/wwdc2025/274)  
[使用 SwiftUI 构建自定布局](https://developer.apple.com/videos/play/wwdc2022/10056)  
[利用 SwiftUI 构建自定视图](https://developer.apple.com/videos/play/wwdc2019/237)  

## 文档

[人机界面指南：visionOS 设计](https://developer.apple.com/design/human-interface-guidelines/designing-for-visionos)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)