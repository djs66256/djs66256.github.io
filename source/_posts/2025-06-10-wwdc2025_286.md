---
title: 了解 Foundation Models 框架
date: 2025-06-10 15:42:32
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- 机器学习与-ai
---
了解如何利用 apple 智能背后的设备端大语言模型！这个简介讲座涵盖了丰富的主题，从用于生成 swift 数据结构并结合流式传输实现灵敏响应体验的引导式生成功能，到用于整合数据源和会话以进行上下文管理的工具调用机制，应有尽有。这个讲座不设任何先决条件。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9965/9965_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/286/)

# 探索 Apple 的 Foundation Models 框架：设备端大语言模型开发指南

## 引言
Apple 最新推出的 Foundation Models 框架为开发者提供了访问设备端大语言模型的能力。这个强大的 Swift API 框架支持 macOS、iOS、iPadOS 和 visionOS 平台，让开发者可以轻松构建个性化搜索建议、行程生成等智能功能，同时确保数据隐私和设备端处理。

## 框架概览
Foundation Models 框架的核心是一个 30 亿参数的设备端大语言模型，虽然规模不及服务器级大模型，但针对内容生成、文本摘要和用户输入分析等任务进行了优化。所有计算都在设备端完成，不会增加应用体积。

### 模型测试体验
在 Xcode 中，开发者可以通过 Playground 快速测试模型效果：

```swift
import FoundationModels
import Playgrounds

#Playground {
    let session = LanguageModelSession()
    let response = try await session.respond(to: "为日本之旅起个好名字？只需回复标题")
}
```

## 核心功能

### 1. 引导式生成
框架通过 `@Generable` 和 `@Guide` 宏提供结构化输出功能：

```swift
@Generable
struct 搜索建议 {
    @Guide(description: "建议搜索词列表", .count(4))
    var 搜索词: [String]
}
```

这种方式确保了输出结构与 Swift 类型系统兼容，简化了提示词设计并提高了准确率。

### 2. 快照流式传输
不同于传统的令牌增量流，框架采用快照流技术：

```swift
let stream = session.streamResponse(
    to: "制定富士山三日行程",
    generating: 行程.self
)

for try await partial in stream {
    print(partial)
}
```

每个快照代表部分生成响应，属性逐步填充，与 SwiftUI 完美契合。

### 3. 工具调用
模型可以自主执行应用定义的代码：

```swift
protocol Tool {
    var name: String { get }
    var description: String { get }
    func call(_ parameters: Generable) async throws -> Generable
}
```

这种机制扩展了模型能力，使其可以整合实时信息、提供事实依据或执行系统操作。

### 4. 状态化会话
会话对象支持多轮对话上下文保持、自定义指导语和专业化适配器：

```swift
let session = LanguageModelSession(
    guidance: "你是一个专业的旅行助手",
    tools: [mapTool, weatherTool]
)
```

## 开发者体验
框架提供了一系列开发工具支持：
- Xcode Playground 即时测试
- Instruments 性能分析模板
- Feedback Assistant 反馈通道
- 适配器训练工具包

## 结论
Foundation Models 框架为 Apple 开发者开启了一个设备端智能的新时代。通过简洁的 Swift API 和强大的功能组合，开发者可以轻松构建创新的 AI 体验。

## 相关视频
- [探索 Apple 平台上的机器学习和 AI 框架](https://developer.apple.com/videos/play/wwdc2025/360)
- [探索设备端基础模型的提示设计和安全](https://developer.apple.com/videos/play/wwdc2025/248)
- [深入了解 Foundation Models 框架](https://developer.apple.com/videos/play/wwdc2025/301)
- [跟着视频学编程：使用 Foundation Models 框架将设备端 AI 引入你的 App](https://developer.apple.com/videos/play/wwdc2025/259)

## 文档
- [人机界面指南：生成式 AI](https://developer.apple.com/design/human-interface-guidelines/generative-ai)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)