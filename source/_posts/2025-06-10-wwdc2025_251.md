---
title: 提升 App 的音频录制功能
date: 2025-06-10 21:46:48
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- macos
- 音频和视频
---
了解如何提升 app 的音频录制功能。探索如何通过 ios 和 ipados 26 上的输入选择器交互来灵活地选择音频设备。了解有哪些 api 可帮助你通过 airpods 进行高质量录音。我们还将介绍空间音频录制和编辑功能，这些功能可让你隔离语音和环境背景音，所有这些功能均可使用 audiotoolbox、avfoundation 和 cinematic 框架实现。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/10050/10050_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/251/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)

# 增强应用的音频录制能力：iOS 26音频技术全面解析

## 引言

在iOS 26和iPadOS 26中，苹果为开发者带来了一系列强大的音频录制功能增强。从灵活的输入设备选择到专业级的空间音频处理，这些新特性为音频类应用开辟了新的可能性。本文将详细解析这些技术革新，帮助开发者充分利用这些功能提升应用体验。

## 输入设备选择新方式

传统上，用户在应用中切换音频输入设备需要跳转到系统设置，这种体验不够流畅。iOS 26通过AVKit框架引入了全新的输入选择机制。

### 集成输入选择器

开发者现在可以在应用中直接展示一个输入设备选择菜单。该菜单不仅列出可用设备，还能实时显示各设备的音量电平。以下是关键实现步骤：

```swift
import AVKit

class AppViewController {
    let inputPickerInteraction = AVInputPickerInteraction()   
    inputPickerInteraction.delegate = self
    
    @IBOutlet weak var selectMicButton: UIButton!
    self.selectMicButton.addInteraction(self.inputPickerInteraction)
    
    @IBAction func handleSelectMicButton(_ sender: UIButton) {
        inputPickerInteraction.present()
    }
}
```

系统会自动记忆用户的选择，在应用下次启动时保持相同的输入配置。这种设计特别适合播客录制、音乐创作等需要频繁切换设备的应用场景。

## 专业级AirPods录音

AirPods因其便携性成为许多用户的录音首选，iOS 26为其新增了高质量录音模式。

### 技术实现

该模式通过两种方式启用：

1. 对于AVAudioSession用户：
```swift
AVAudioSessionCategoryOptions.bluetoothHighQualityRecording
```

2. 对于AVCaptureSession用户：
```swift
session.configuresApplicationAudioSessionForBluetoothHighQualityRecording = true
```

该模式优化了蓝牙连接稳定性，并提供了类似专业LAV麦克风的音质平衡，特别适合人声录制。当高质量模式不可用时，系统会自动回退到标准蓝牙模式。

## 空间音频录制与处理

空间音频技术为音频体验增加了三维沉浸感，iOS 26在该领域有显著增强。

### 录制技术原理

空间音频录制使用麦克风阵列捕获3D场景信息，并转换为Ambisonics格式（一种基于球面谐波的音频编码方式）。具体来说，它记录：

1. 一个全向声压分量
2. 三个方向性分量（X/Y/Z轴）

### API更新

iOS 26新增了.qta格式支持，使纯音频应用也能保存空间音频数据。开发者可以：

```swift
// 设置多声道音频模式
multichannelAudioMode = .firstOrderAmbisonics
```

## 专业音频混音控制

Cinematic框架新增的音频混音功能让开发者能精确控制人声与环境音的平衡。

### 关键API

```swift
import Cinematic

var intensity: Float32 = 0.5
var style = CNSpatialAudioRenderingStyle.cinematic

let audioInfo = try await CNAssetSpatialAudioInfo(asset: myAVAsset)
let newAudioMix = audioInfo.audioMix(effectIntensity: intensity, renderingStyle: style)
myAVPlayerItem.audioMix = newAudioMix
```

系统提供三种预设模式（Cinematic、Studio和In-Frame）以及六种扩展模式，满足不同场景需求。

## 结论与最佳实践

iOS 26的音频技术革新为开发者提供了更专业的工具链。建议开发者：

1. 集成AVInputPickerInteraction提升输入切换体验
2. 为AirPods用户启用高质量录音模式
3. 利用空间音频API创造沉浸式体验
4. 使用音频混音功能优化音效平衡

这些功能组合使用，可以显著提升音乐、播客、视频编辑等类型应用的专业性和用户体验。

## 相关资源

### 相关视频
[利用拍摄控件提升你的相机体验](https://developer.apple.com/videos/play/wwdc2025/253)  
[在你的App中录制电影效果视频](https://developer.apple.com/videos/play/wwdc2025/319)

### 文档
[AVFoundation](https://developer.apple.com/documentation/AVFoundation)  
[Cinematic](https://developer.apple.com/documentation/Cinematic)  
[TN3177: Understanding alternate audio track groups in movie files](https://developer.apple.com/documentation/Technotes/tn3177-understanding-alternate-audio-track-groups-in-movie-files)
