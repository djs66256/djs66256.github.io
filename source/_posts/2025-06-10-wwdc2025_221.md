---
title: AdAttributionKit 的新功能
date: 2025-06-10 21:46:47
categories:
- wwdc2025
tags:
- wwdc2025
- ios
- ipados
- app-store、分发与营销
---
了解 adattributionkit 的新功能，包括如何衡量重叠的重新吸引转化，以及如何为你的 app 自定广告归因规则。深入了解一个新的回传属性，你可以使用这个属性来衡量广告系列在各个国家和地区的实际效果。我们还将展示新的功能，以及用于测试 adattributionkit 实现情况的最佳做法。为了充分从这个讲座中获益，建议你先观看“了解 adattributionkit”。
<!--more-->

![视频封面](https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9907/9907_wide_250x141_2x.jpg)
[视频地址](https://developer.apple.com/cn/videos/play/wwdc2025/221/)
> 此文章由AI生成，可能存在错误，如有问题，请联系[djs66256@163.com](djs66256@163.com)

# AdAttributionKit 新特性：全面解析广告归因增强功能

Apple在WWDC24上为开发者带来了AdAttributionKit的一系列创新功能，旨在提升广告转化测量精度与灵活性，同时坚守隐私保护的核心理念。本文将深入解析这些新特性的技术实现与应用场景。

## 引言

AdAttributionKit作为Apple隐私优先的广告归因解决方案，自iOS 17.4推出以来不断完善。在iOS 18系列更新中，该系统新增了多项关键功能，包括重叠转化窗口测量、自定义归因规则配置、地理数据回传以及开发者测试工具增强。

## 重叠转化窗口测量

iOS 18.4引入的突破性功能允许应用同时追踪多个再互动转化窗口，解决了以往只能有一个活跃窗口的限制。这项改进特别适用于同时运行多个促销活动的场景。

技术实现要点：
1. 需在Info.plist中设置`EligibleForAdAttributionKitOverlappingConversions`为YES
2. 通过URL参数解析转化标签：
```swift
func retrieveConversionTag(fromURL url: URL) -> String? {
    guard let components = URLComponents(url: url, resolvingAgainstBaseURL: true) else {
        print("无法解析URL组件")
        return nil
    }
    // 其余解析代码...
}
```
3. 更新特定转化值时调用专用API：
```swift
func updateConversionValue(_ conversionValue: Int, conversionTag: String) async {
    let update = PostbackUpdate(fineConversionValue: conversionValue,
                              lockPostback: false,
                              conversionTag: conversionTag)
    // 执行更新...
}
```

## 自定义归因规则配置

开发者现在可以针对不同广告网络和互动类型灵活配置归因参数：

1. **归因窗口定制**：按网络和互动类型(点击/浏览)设置不同窗口时长
2. **冷却期设置**：避免安装后的短时互动覆盖原始转化价值
3. **配置示例**：
```json
{
  "com.example.adNetwork": {
    "click": 2,
    "view": 1
  },
  "global": {
    "view": 3
  }
}
```

## 回传地理数据增强

新增的国家代码字段为广告主提供了地域维度的数据分析能力：

- App Store安装：采用用户账户的商店地区
- 再互动转化：沿用安装时的地区
- 替代市场：需在JWS令牌中提供已验证的国家代码
- 隐私保护：遵循群体匿名算法，仅当转化量达标时才会包含该字段

## 开发者测试工具

iOS 18.4的设置应用新增了直接创建测试回传的功能：

1. 路径：开发者选项→"Ad Attribution Testing"→"Development Postbacks"
2. 可配置属性：包括测试国家代码、数据粒度等
3. 特殊标识：网络ID为"development.adattributionkit"，使用新签名密钥

## 总结与建议

AdAttributionKit的新特性为开发者提供了更精细的广告效果测量工具，同时保持了Apple对用户隐私的承诺。开发者应采取以下行动：

1. 在Info.plist中添加归因规则配置
2. 尽早利用测试功能验证实现
3. 从SKAdNetwork迁移至AdAttributionKit以获得完整功能

这些增强功能体现了Apple在平衡广告效果测量与用户隐私保护方面的持续创新，为应用开发者提供了更强大的商业化工具。

## 相关资源

[将隐私保护融入开发流程](https://developer.apple.com/videos/play/wwdc2025/246)  
[了解 AdAttributionKit](https://developer.apple.com/videos/play/wwdc2024/10060)  
[AdAttributionKit 文档](https://developer.apple.com/documentation/AdAttributionKit)
